[{"/mnt/3B362B907D64FA9E/www/class-unify/web/src/App.tsx":"1","/mnt/3B362B907D64FA9E/www/class-unify/web/src/index.tsx":"2","/mnt/3B362B907D64FA9E/www/class-unify/web/src/routes/index.tsx":"3","/mnt/3B362B907D64FA9E/www/class-unify/web/src/styles/global.ts":"4","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Header/index.tsx":"5","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Header/styles.ts":"6","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Input/index.tsx":"7","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Input/styles.ts":"8","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Dashboard/index.tsx":"9","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Schedule/index.tsx":"10","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Dashboard/styles.ts":"11","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Schedule/styles.ts":"12","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Select/index.tsx":"13","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Select/styles.ts":"14","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Button/index.tsx":"15","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Button/styles.ts":"16","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/NewStudent/styles.ts":"17","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/NewStudent/index.tsx":"18","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Redirect/index.tsx":"19","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Redirect/styles.ts":"20","/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Loading/index.tsx":"21","/mnt/3B362B907D64FA9E/www/class-unify/web/src/config/variables.ts":"22","/mnt/3B362B907D64FA9E/www/class-unify/web/src/services/ClassUnifyService.ts":"23","/mnt/3B362B907D64FA9E/www/class-unify/web/src/util/keepZerosAtLeft.ts":"24"},{"size":204,"mtime":1608508452879,"results":"25","hashOfConfig":"26"},{"size":198,"mtime":1608507835119,"results":"27","hashOfConfig":"26"},{"size":644,"mtime":1608665905030,"results":"28","hashOfConfig":"26"},{"size":910,"mtime":1608697132077,"results":"29","hashOfConfig":"26"},{"size":502,"mtime":1608522016058,"results":"30","hashOfConfig":"26"},{"size":728,"mtime":1608605868404,"results":"31","hashOfConfig":"26"},{"size":466,"mtime":1608522618019,"results":"32","hashOfConfig":"26"},{"size":433,"mtime":1608606811483,"results":"33","hashOfConfig":"26"},{"size":1772,"mtime":1608674496222,"results":"34","hashOfConfig":"26"},{"size":9489,"mtime":1608697369043,"results":"35","hashOfConfig":"26"},{"size":1167,"mtime":1608661930399,"results":"36","hashOfConfig":"26"},{"size":3940,"mtime":1608692523465,"results":"37","hashOfConfig":"26"},{"size":475,"mtime":1608606255024,"results":"38","hashOfConfig":"26"},{"size":498,"mtime":1608661092378,"results":"39","hashOfConfig":"26"},{"size":563,"mtime":1608697058703,"results":"40","hashOfConfig":"26"},{"size":700,"mtime":1608697045475,"results":"41","hashOfConfig":"26"},{"size":1130,"mtime":1608660317133,"results":"42","hashOfConfig":"26"},{"size":1738,"mtime":1608661896970,"results":"43","hashOfConfig":"26"},{"size":1321,"mtime":1608680916660,"results":"44","hashOfConfig":"26"},{"size":383,"mtime":1608680777123,"results":"45","hashOfConfig":"26"},{"size":363,"mtime":1608666084663,"results":"46","hashOfConfig":"26"},{"size":129,"mtime":1608669987827,"results":"47","hashOfConfig":"26"},{"size":2796,"mtime":1608696565962,"results":"48","hashOfConfig":"26"},{"size":236,"mtime":1608694707217,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1xljv56",{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/3B362B907D64FA9E/www/class-unify/web/src/App.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/routes/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/styles/global.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Header/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Header/styles.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Input/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Input/styles.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Dashboard/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Schedule/index.tsx",["100","101","102","103"],"import React, {\n  FormEvent,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  FiArrowLeft,\n  FiBook,\n  FiCalendar,\n  FiClock,\n  FiCopy,\n  FiEdit,\n  FiExternalLink,\n  FiLink,\n  FiTrash2,\n  FiKey,\n} from 'react-icons/all';\nimport { Link, useLocation, useRouteMatch } from 'react-router-dom';\nimport * as datefns from 'date-fns';\n\nimport Button from '../../components/Button';\nimport Header from '../../components/Header';\nimport Input from '../../components/Input';\nimport Select from '../../components/Select';\nimport variables from '../../config/variables';\nimport ClassUnifyService, {\n  IClass,\n  IStudent,\n  IApiResponse,\n} from '../../services/ClassUnifyService';\nimport {\n  Container,\n  TopBar,\n  ClassForm,\n  InputGroup,\n  Classes,\n  ClassContainer,\n  ClassActions,\n  InfoContainer,\n} from './styles';\nimport keepZerosAtLeft from '../../util/keepZerosAtLeft';\n\nconst Schedule: React.FC = () => {\n  const {\n    params: { student_id },\n  } = useRouteMatch<{ student_id: string }>();\n\n  const uniqueLinkRef = useRef<HTMLSpanElement | null>(null);\n\n  const [schedule, setSchedule] = useState<IClass[]>([]);\n  const [classTypes, setClassTypes] = useState<{ [key: string]: string }>({});\n  const [classId, setClassId] = useState<string>('');\n  const [classType, setClassType] = useState('default');\n  const [classDate, setClassDate] = useState('');\n  const [classTime, setClassTime] = useState('');\n  const [classLink, setClassLink] = useState('');\n\n  useEffect(() => {\n    const classUnifyService = ClassUnifyService.getInstance();\n\n    if (uniqueLinkRef.current)\n      uniqueLinkRef.current.innerHTML = `${variables.REACT_APP_URL}/classes/${student_id}/redirect`;\n\n    classUnifyService.getSchedule(student_id).then((response) => {\n      setSchedule(response.data);\n    });\n\n    classUnifyService.getClassTypes().then((response) => {\n      setClassTypes(response.data);\n    });\n  }, [student_id]);\n\n  const handleCopyUniqueLink = useCallback(() => {\n    if (!uniqueLinkRef.current) return;\n\n    const uniqueLink = uniqueLinkRef.current.textContent || '';\n\n    const textArea = document.createElement('textarea');\n    textArea.value = uniqueLink;\n\n    document.body.appendChild(textArea);\n\n    textArea.select();\n    document.execCommand('Copy');\n\n    textArea.remove();\n  }, []);\n\n  const handleClassFormSubmit = useCallback(\n    async (event: FormEvent) => {\n      event.preventDefault();\n\n      const classUnifyService = ClassUnifyService.getInstance();\n      const [year, month, day] = classDate.split('-');\n      const [hours, minutes] = classTime.split(':');\n\n      const formattedClassDate = new Date(\n        Number(year),\n        Number(month) - 1,\n        Number(day),\n        Number(hours),\n        Number(minutes),\n      );\n\n      const studentClass: IClass = {\n        type: classType,\n        link: classLink,\n        date: formattedClassDate,\n      };\n\n      let response: IApiResponse<IClass[]>;\n\n      response = classId\n        ? await classUnifyService.updateClass(student_id, classId, studentClass)\n        : await classUnifyService.saveClasses(student_id, [studentClass]);\n\n      setSchedule(response.data);\n\n      setClassType('default');\n      setClassDate('');\n      setClassTime('');\n      setClassLink('');\n      setClassId('');\n    },\n    [classDate, classId, classLink, classTime, classType, student_id],\n  );\n\n  const handleCancelClass = useCallback(\n    async (class_id: string) => {\n      const classUnifyService = ClassUnifyService.getInstance();\n\n      await classUnifyService.cancelClass(student_id, class_id);\n\n      setSchedule(\n        schedule.filter((studentClass) => studentClass._id !== class_id),\n      );\n    },\n    [schedule, student_id],\n  );\n\n  const handleAddClassInformationToEdit = useCallback(\n    (class_id: string) => {\n      const classToEdit = schedule.find(\n        (studentClass) => studentClass._id === class_id,\n      );\n\n      const date = datefns.toDate(classToEdit!.date!);\n\n      let dateString = '';\n      dateString += keepZerosAtLeft(date.getFullYear(), 4);\n      dateString += '-' + keepZerosAtLeft(date.getMonth() + 1, 2);\n      dateString += '-' + keepZerosAtLeft(date.getDate(), 2);\n\n      const time =\n        keepZerosAtLeft(date.getHours(), 2) +\n        ':' +\n        keepZerosAtLeft(date.getMinutes(), 2);\n\n      setClassId(class_id);\n      setClassType(classToEdit!.type);\n      setClassDate(dateString);\n      setClassTime(time);\n      setClassLink(classToEdit!.link);\n    },\n    [schedule],\n  );\n\n  const handleClearClassEdit = useCallback(() => {\n    setClassId('');\n    setClassType('');\n    setClassDate('');\n    setClassTime('');\n    setClassLink('');\n  }, []);\n\n  return (\n    <>\n      <Header />\n\n      <Container>\n        <TopBar>\n          <Link to=\"/\">\n            <FiArrowLeft size={24} />\n            Voltar\n          </Link>\n\n          <h1>Agendados</h1>\n        </TopBar>\n\n        <section>\n          <ClassForm onSubmit={handleClassFormSubmit}>\n            <strong>{classId ? 'Editando aula' : 'Nova aula'}</strong>\n\n            <div>\n              <InputGroup>\n                <div>\n                  <label htmlFor=\"class-type-select\">Tipo de aula</label>\n\n                  <Select\n                    id=\"class-type-select\"\n                    icon={FiBook}\n                    value={classType}\n                    onChange={(event) =>\n                      setClassType(event.currentTarget.value)\n                    }\n                  >\n                    <option value=\"default\" disabled>\n                      Selecione um tipo\n                    </option>\n\n                    {Object.keys(classTypes).map((typeKey) => (\n                      <option key={typeKey} value={typeKey}>\n                        {classTypes[typeKey]}\n                      </option>\n                    ))}\n                  </Select>\n                </div>\n              </InputGroup>\n\n              <InputGroup>\n                <div>\n                  <label htmlFor=\"date-input\">Data</label>\n                  <Input\n                    id=\"date-input\"\n                    type=\"date\"\n                    value={classDate}\n                    onChange={(event) =>\n                      setClassDate(event.currentTarget.value)\n                    }\n                  />\n                </div>\n\n                <div>\n                  <label htmlFor=\"time-input\">Hora</label>\n                  <Input\n                    id=\"time-input\"\n                    type=\"time\"\n                    value={classTime}\n                    onChange={(event) =>\n                      setClassTime(event.currentTarget.value)\n                    }\n                  />\n                </div>\n              </InputGroup>\n\n              <InputGroup>\n                <div>\n                  <label htmlFor=\"link-input\">Link</label>\n                  <Input\n                    id=\"link-input\"\n                    icon={FiLink}\n                    placeholder=\"https://mindsidiomas...\"\n                    value={classLink}\n                    onChange={(event) =>\n                      setClassLink(event.currentTarget.value)\n                    }\n                  />\n                </div>\n              </InputGroup>\n            </div>\n\n            <div>\n              {classId ? (\n                <Button onClick={handleClearClassEdit} cancellationButton>Cancelar</Button>\n              ) : (\n                <div />\n              )}\n              <Button type=\"submit\">Salvar</Button>\n            </div>\n          </ClassForm>\n\n          <InfoContainer>\n            <strong>Angelo Evangelista</strong>\n\n            <div>\n              <div>\n                <strong>Nível: </strong> <span>Upper</span>\n              </div>\n              <div>\n                <strong>Aulas agendadas: </strong> <span>3</span>\n              </div>\n              <div>\n                <strong>Link único: </strong>\n                <span ref={uniqueLinkRef}>\n                  https://mindsidiomas.whereby.com/santos1\n                </span>\n                <FiCopy size={24} onClick={handleCopyUniqueLink} />\n              </div>\n            </div>\n          </InfoContainer>\n        </section>\n\n        <Classes>\n          {schedule.map((studentClass) => (\n            <ClassContainer key={studentClass._id}>\n              <div>\n                <strong>{classTypes[studentClass.type]}</strong>\n\n                <div>\n                  <FiClock size={20} />\n                  <p>{studentClass.date.toLocaleDateString()}</p>\n                </div>\n\n                <div>\n                  <FiCalendar size={20} />\n                  <p>{studentClass.date.toLocaleTimeString()}</p>\n                </div>\n\n                <div>\n                  <FiLink size={20} />\n                  <p>{studentClass.link ?? 'Sem link'}</p>\n                </div>\n              </div>\n\n              <ClassActions>\n                <button>\n                  <FiEdit\n                    size={24}\n                    onClick={() =>\n                      handleAddClassInformationToEdit(studentClass._id!)\n                    }\n                  />\n                </button>\n                <button>\n                  <FiTrash2\n                    size={24}\n                    onClick={() => handleCancelClass(studentClass._id!)}\n                  />\n                </button>\n              </ClassActions>\n            </ClassContainer>\n          ))}\n        </Classes>\n      </Container>\n    </>\n  );\n};\n\nexport default Schedule;\n","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Dashboard/styles.ts",["104"],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Schedule/styles.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Select/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Select/styles.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Button/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Button/styles.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/NewStudent/styles.ts",["105"],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/NewStudent/index.tsx",["106"],"import React from 'react';\nimport { FiArrowLeft, FiMail, FiUser, FiBook } from 'react-icons/fi';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport Button from '../../components/Button';\nimport Header from '../../components/Header';\nimport Input from '../../components/Input';\nimport Select from '../../components/Select';\n\nimport { Container, TopBar, StudentForm, InputGroup } from './styles';\n\nconst NewStudent: React.FC = () => {\n  const {\n    params: { student_id },\n  } = useRouteMatch<{ student_id: string }>();\n\n  return (\n    <>\n      <Header />\n\n      <Container>\n        <TopBar>\n          <Link to=\"/\">\n            <FiArrowLeft size={24} />\n            Voltar\n          </Link>\n\n          <h1>Novo aluno</h1>\n        </TopBar>\n\n        <StudentForm>\n          <strong>Preencha os campos</strong>\n\n          <div>\n            <InputGroup>\n              <Input icon={FiUser} placeholder=\"Nome\" />\n            </InputGroup>\n\n            <InputGroup>\n              <Input icon={FiMail} placeholder=\"Email\" type=\"email\" />\n            </InputGroup>\n            \n            <InputGroup>\n              <Select icon={FiBook}>\n                <option selected disabled>\n                  Escolha um nível\n                </option>\n                <option value=\"Starter\">Starter</option>\n                <option value=\"Basic\">Basic</option>\n                <option value=\"Inter\">Intermediate</option>\n                <option value=\"Upper\">Upper</option>\n                <option value=\"UpperPlus\">Upper Plus</option>\n              </Select>\n            </InputGroup>\n          </div>\n\n          <Button type=\"submit\">Adicionar</Button>\n        </StudentForm>\n      </Container>\n    </>\n  );\n};\n\nexport default NewStudent;\n","/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Redirect/index.tsx",["107","108","109","110","111"],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/pages/Redirect/styles.ts",["112"],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/components/Loading/index.tsx",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/config/variables.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/services/ClassUnifyService.ts",[],"/mnt/3B362B907D64FA9E/www/class-unify/web/src/util/keepZerosAtLeft.ts",[],{"ruleId":"113","severity":1,"message":"114","line":15,"column":3,"nodeType":"115","messageId":"116","endLine":15,"endColumn":17},{"ruleId":"113","severity":1,"message":"117","line":18,"column":3,"nodeType":"115","messageId":"116","endLine":18,"endColumn":8},{"ruleId":"113","severity":1,"message":"118","line":20,"column":16,"nodeType":"115","messageId":"116","endLine":20,"endColumn":27},{"ruleId":"113","severity":1,"message":"119","line":30,"column":3,"nodeType":"115","messageId":"116","endLine":30,"endColumn":11},{"ruleId":"113","severity":1,"message":"120","line":1,"column":10,"nodeType":"115","messageId":"116","endLine":1,"endColumn":16},{"ruleId":"113","severity":1,"message":"121","line":1,"column":10,"nodeType":"115","messageId":"116","endLine":1,"endColumn":17},{"ruleId":"113","severity":1,"message":"122","line":14,"column":15,"nodeType":"115","messageId":"116","endLine":14,"endColumn":25},{"ruleId":"113","severity":1,"message":"123","line":2,"column":10,"nodeType":"115","messageId":"116","endLine":2,"endColumn":21},{"ruleId":"113","severity":1,"message":"124","line":2,"column":23,"nodeType":"115","messageId":"116","endLine":2,"endColumn":29},{"ruleId":"113","severity":1,"message":"125","line":2,"column":31,"nodeType":"115","messageId":"116","endLine":2,"endColumn":37},{"ruleId":"113","severity":1,"message":"126","line":2,"column":39,"nodeType":"115","messageId":"116","endLine":2,"endColumn":45},{"ruleId":"113","severity":1,"message":"127","line":3,"column":10,"nodeType":"115","messageId":"116","endLine":3,"endColumn":14},{"ruleId":"113","severity":1,"message":"121","line":1,"column":10,"nodeType":"115","messageId":"116","endLine":1,"endColumn":17},"@typescript-eslint/no-unused-vars","'FiExternalLink' is defined but never used.","Identifier","unusedVar","'FiKey' is defined but never used.","'useLocation' is defined but never used.","'IStudent' is defined but never used.","'darken' is defined but never used.","'lighten' is defined but never used.","'student_id' is assigned a value but never used.","'FiArrowLeft' is defined but never used.","'FiMail' is defined but never used.","'FiUser' is defined but never used.","'FiBook' is defined but never used.","'Link' is defined but never used."]